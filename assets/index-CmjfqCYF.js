(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Pt=!1;var en=Array.isArray,er=Array.prototype.indexOf,ot=Array.from,tr=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,nr=Object.prototype,rr=Array.prototype,ir=Object.getPrototypeOf,Rt=Object.isExtensible;function sr(e){for(var t=0;t<e.length;t++)e[t]()}function tn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const S=2,nn=4,xt=8,or=1<<24,oe=16,ce=32,we=64,at=128,H=512,T=1024,O=2048,ae=4096,$=8192,ie=16384,rn=32768,Fe=65536,Bt=1<<17,sn=1<<18,Be=1<<19,ar=1<<20,re=1<<25,be=32768,Mt=1<<21,Nt=1<<22,fe=1<<23,Qe=Symbol("$state"),lr=Symbol("legacy props"),Ne=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function fr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ur(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function cr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function dr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function mr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const pr=1,_r=2,on=4,Pr=8,Mr=16,br=1,gr=2,yr=4,Ar=8,wr=16,Er=1,xr=2,F=Symbol();function Nr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function an(e){return e===this.v}function Sr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ln(e){return!Sr(e,this.v)}let Ue=!1,Cr=!1;function Fr(){Ue=!0}let D=null;function Te(e){D=e}function lt(e,t=!1,n){D={p:D,i:!1,c:null,e:null,s:e,x:null,l:Ue&&!t?{s:null,u:null,$:[]}:null}}function ft(e){var t=D,n=t.e;if(n!==null){t.e=null;for(var r of n)Xr(r)}return t.i=!0,D=t.p,{}}function Ve(){return!Ue||D!==null&&D.l===null}let Se=[];function Tr(){var e=Se;Se=[],sr(e)}function ut(e){if(Se.length===0){var t=Se;queueMicrotask(()=>{t===Se&&Tr()})}Se.push(e)}function fn(e){var t=y;if(t===null)return M.f|=fe,e;if((t.f&rn)===0){if((t.f&at)===0)throw e;t.b.error(e)}else De(e,t)}function De(e,t){for(;t!==null;){if((t.f&at)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Xe=new Set;let w=null,V=null,X=[],St=null,bt=!1;class Z{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){X=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#o(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#a(n.effects),this.#a(n.render_effects),this.#a(n.block_effects)):(w=null,Ot(n.render_effects),Ot(n.effects),this.#l?.resolve()),V=null}#o(t,n){t.f^=T;for(var r=t.first;r!==null;){var i=r.f,s=(i&(ce|we))!==0,a=s&&(i&T)!==0,l=a||(i&$)!==0||this.skipped_effects.has(r);if((r.f&at)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){s?r.f^=T:(i&nn)!==0?n.effects.push(r):Ye(r)&&((r.f&oe)!==0&&n.block_effects.push(r),qe(r));var o=r.first;if(o!==null){r=o;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(this.#a(n.effects),this.#a(n.render_effects),this.#a(n.block_effects),n=n.parent),r=f.next,f=f.parent}}#a(t){for(const n of t)((n.f&O)!==0?this.#s:this.#i).push(n),this.#f(n.deps),j(n,T)}#f(t){if(t!==null)for(const n of t)(n.f&S)===0||(n.f&be)===0||(n.f^=be,this.#f(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&fe)===0&&(this.current.set(t,t.v),V?.set(t,t.v))}activate(){w=this,this.apply()}deactivate(){w===this&&(w=null,V=null)}flush(){if(this.activate(),X.length>0){if(Dr(),w!==null&&w!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(Xe.size>1){this.previous.clear();var t=V,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Xe){if(s===this){n=!1;continue}const a=[];for(const[o,f]of this.current){if(s.current.has(o))if(n&&f!==s.current.get(o))s.current.set(o,f);else continue;a.push(o)}if(a.length===0)continue;const l=[...s.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var i=X;X=[];const o=new Set,f=new Map;for(const u of a)un(u,l,o,f);if(X.length>0){w=s,s.apply();for(const u of X)s.#o(u,r);s.deactivate()}X=i}}w=null,V=t}this.committed=!0,Xe.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)j(t,O),ge(t);for(const t of this.#i)j(t,ae),ge(t);this.#s=[],this.#i=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=tn()).promise}static ensure(){if(w===null){const t=w=new Z;Xe.add(w),Z.enqueue(()=>{w===t&&t.flush()})}return w}static enqueue(t){ut(t)}apply(){}}function Dr(){var e=Pe;bt=!0;var t=null;try{var n=0;for(rt(!0);X.length>0;){var r=Z.ensure();if(n++>1e3){var i,s;jr()}r.process(X),ue.clear()}}finally{bt=!1,rt(e),St=null}}function jr(){try{ur()}catch(e){De(e,St)}}let te=null;function Ot(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ie|$))===0&&Ye(r)&&(te=new Set,qe(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?An(r):r.fn=null),te?.size>0)){ue.clear();for(const i of te){if((i.f&(ie|$))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)te.has(a)&&(te.delete(a),s.push(a)),a=a.parent;for(let l=s.length-1;l>=0;l--){const o=s[l];(o.f&(ie|$))===0&&qe(o)}}te.clear()}}te=null}}function un(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&S)!==0?un(i,t,n,r):(s&(Nt|oe))!==0&&(s&O)===0&&cn(i,t,r)&&(j(i,O),ge(i))}}function cn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&S)!==0&&cn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ge(e){for(var t=St=e;t.parent!==null;){t=t.parent;var n=t.f;if(bt&&t===y&&(n&oe)!==0&&(n&sn)===0)return;if((n&(we|ce))!==0){if((n&T)===0)return;t.f^=T}}X.push(t)}function Ir(e){let t=0,n=ye(0),r;return()=>{$e()&&(_(n),Qr(()=>(t===0&&(r=In(()=>e(()=>Le(n)))),t+=1,()=>{ut(()=>{t-=1,t===0&&(r?.(),r=void 0,Le(n))})})))}}var kr=Fe|Be|at;function Rr(e,t,n){new Br(e,t,n)}class Br{parent;#e=!1;#t;#r=null;#n;#l;#s;#i=null;#o=null;#a=null;#f=null;#u=null;#c=0;#d=0;#h=!1;#m=null;#M=Ir(()=>(this.#m=ye(this.#c),()=>{this.#m=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=y.b,this.#e=!!this.#n.pending,this.#s=Tt(()=>{y.b=this;{var i=this.#_();try{this.#i=U(()=>r(i))}catch(s){this.error(s)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},kr)}#b(){try{this.#i=U(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#g(){const t=this.#n.pending;t&&(this.#o=U(()=>t(this.#t)),Z.enqueue(()=>{var n=this.#_();this.#i=this.#v(()=>(Z.ensure(),U(()=>this.#l(n)))),this.#d>0?this.#p():(_e(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#_(){var t=this.#t;return this.#e&&(this.#u=pe(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#v(t){var n=y,r=M,i=D;J(this.#s),R(this.#s),Te(this.#s.ctx);try{return t()}catch(s){return fn(s),null}finally{J(n),R(r),Te(i)}}#p(){const t=this.#n.pending;this.#i!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#u),xn(this.#i,this.#f)),this.#o===null&&(this.#o=U(()=>t(this.#t)))}#P(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#P(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#o&&_e(this.#o,()=>{this.#o=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(t){this.#P(t),this.#c+=t,this.#m&&je(this.#m,this.#c)}get_effect_pending(){return this.#M(),_(this.#m)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#h||!n&&!r)throw t;this.#i&&(B(this.#i),this.#i=null),this.#o&&(B(this.#o),this.#o=null),this.#a&&(B(this.#a),this.#a=null);var i=!1,s=!1;const a=()=>{if(i){Nr();return}i=!0,s&&vr(),Z.ensure(),this.#c=0,this.#a!==null&&_e(this.#a,()=>{this.#a=null}),this.#e=this.has_pending_snippet(),this.#i=this.#v(()=>(this.#h=!1,U(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=M;try{R(null),s=!0,n?.(t,a),s=!1}catch(o){De(o,this.#s&&this.#s.parent)}finally{R(l)}r&&ut(()=>{this.#a=this.#v(()=>{Z.ensure(),this.#h=!0;try{return U(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return De(o,this.#s.parent),null}finally{this.#h=!1}})})}}function Or(e,t,n,r){const i=Ve()?ct:Ct;if(n.length===0&&e.length===0){r(t.map(i));return}var s=w,a=y,l=Gr();function o(){Promise.all(n.map(f=>Lr(f))).then(f=>{l();try{r([...t.map(i),...f])}catch(u){(a.f&ie)===0&&De(u,a)}s?.deactivate(),tt()}).catch(f=>{De(f,a)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{s?.deactivate(),tt()}}):o()}function Gr(){var e=y,t=M,n=D,r=w;return function(s=!0){J(e),R(t),Te(n),s&&r?.activate()}}function tt(){J(null),R(null),Te(null)}function ct(e){var t=S|O,n=M!==null&&(M.f&S)!==0?M:null;return y!==null&&(y.f|=Be),{ctx:D,deps:null,effects:null,equals:an,f:t,fn:e,reactions:null,rv:0,v:F,wv:0,parent:n??y,ac:null}}function Lr(e,t){let n=y;n===null&&fr();var r=n.b,i=void 0,s=ye(F),a=!M,l=new Map;return Zr(()=>{var o=tn();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{f===w&&f.committed&&f.deactivate(),tt()})}catch(c){o.reject(c),tt()}var f=w;if(a){var u=!r.is_pending();r.update_pending_count(1),f.increment(u),l.get(f)?.reject(Ne),l.delete(f),l.set(f,o)}const m=(c,d=void 0)=>{if(f.activate(),d)d!==Ne&&(s.f|=fe,je(s,d));else{(s.f&fe)!==0&&(s.f^=fe),je(s,c);for(const[v,A]of l){if(l.delete(v),v===f)break;A.reject(Ne)}}a&&(r.update_pending_count(-1),f.decrement(u))};o.promise.then(m,c=>m(null,c||"unknown"))}),Yr(()=>{for(const o of l.values())o.reject(Ne)}),new Promise(o=>{function f(u){function m(){u===i?o(s):f(i)}u.then(m,m)}f(i)})}function ht(e){const t=ct(e);return Nn(t),t}function Ct(e){const t=ct(e);return t.equals=ln,t}function dn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)B(t[n])}}function zr(e){for(var t=e.parent;t!==null;){if((t.f&S)===0)return(t.f&ie)===0?t:null;t=t.parent}return null}function Ft(e){var t,n=y;J(zr(e));try{e.f&=~be,dn(e),t=Tn(e)}finally{J(n)}return t}function mn(e){var t=Ft(e);if(e.equals(t)||(w?.is_fork||(e.v=t),e.wv=Cn()),!Oe)if(V!==null)($e()||w?.is_fork)&&V.set(e,t);else{var n=(e.f&H)===0?ae:T;j(e,n)}}let gt=new Set;const ue=new Map;let hn=!1;function ye(e,t){var n={f:0,v:e,reactions:null,equals:an,rv:0,wv:0};return n}function ee(e,t){const n=ye(e);return Nn(n),n}function $r(e,t=!1,n=!0){const r=ye(e);return t||(r.equals=ln),Ue&&n&&D!==null&&D.l!==null&&(D.l.s??=[]).push(r),r}function W(e,t,n=!1){M!==null&&(!Q||(M.f&Bt)!==0)&&Ve()&&(M.f&(S|oe|Nt|Bt))!==0&&!se?.includes(e)&&hr();let r=n?me(t):t;return je(e,r)}function je(e,t){if(!e.equals(t)){var n=e.v;Oe?ue.set(e,t):ue.set(e,n),e.v=t;var r=Z.ensure();r.capture(e,n),(e.f&S)!==0&&((e.f&O)!==0&&Ft(e),j(e,(e.f&H)!==0?T:ae)),e.wv=Cn(),vn(e,O),Ve()&&y!==null&&(y.f&T)!==0&&(y.f&(ce|we))===0&&(q===null?ti([e]):q.push(e)),!r.is_fork&&gt.size>0&&!hn&&Kr()}return t}function Kr(){hn=!1;var e=Pe;rt(!0);const t=Array.from(gt);try{for(const n of t)(n.f&T)!==0&&j(n,ae),Ye(n)&&qe(n)}finally{rt(e)}gt.clear()}function Le(e){W(e,e.v+1)}function vn(e,t){var n=e.reactions;if(n!==null)for(var r=Ve(),i=n.length,s=0;s<i;s++){var a=n[s],l=a.f;if(!(!r&&a===y)){var o=(l&O)===0;if(o&&j(a,t),(l&S)!==0){var f=a;V?.delete(f),(l&be)===0&&(l&H&&(a.f|=be),vn(f,ae))}else o&&((l&oe)!==0&&te!==null&&te.add(a),ge(a))}}}function me(e){if(typeof e!="object"||e===null||Qe in e)return e;const t=ir(e);if(t!==nr&&t!==rr)return e;var n=new Map,r=en(e),i=ee(0),s=Me,a=l=>{if(Me===s)return l();var o=M,f=Me;R(null),zt(s);var u=l();return R(o),zt(f),u};return r&&n.set("length",ee(e.length)),new Proxy(e,{defineProperty(l,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&dr();var u=n.get(o);return u===void 0?u=a(()=>{var m=ee(f.value);return n.set(o,m),m}):W(u,f.value,!0),!0},deleteProperty(l,o){var f=n.get(o);if(f===void 0){if(o in l){const u=a(()=>ee(F));n.set(o,u),Le(i)}}else W(f,F),Le(i);return!0},get(l,o,f){if(o===Qe)return e;var u=n.get(o),m=o in l;if(u===void 0&&(!m||Ce(l,o)?.writable)&&(u=a(()=>{var d=me(m?l[o]:F),v=ee(d);return v}),n.set(o,u)),u!==void 0){var c=_(u);return c===F?void 0:c}return Reflect.get(l,o,f)},getOwnPropertyDescriptor(l,o){var f=Reflect.getOwnPropertyDescriptor(l,o);if(f&&"value"in f){var u=n.get(o);u&&(f.value=_(u))}else if(f===void 0){var m=n.get(o),c=m?.v;if(m!==void 0&&c!==F)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(l,o){if(o===Qe)return!0;var f=n.get(o),u=f!==void 0&&f.v!==F||Reflect.has(l,o);if(f!==void 0||y!==null&&(!u||Ce(l,o)?.writable)){f===void 0&&(f=a(()=>{var c=u?me(l[o]):F,d=ee(c);return d}),n.set(o,f));var m=_(f);if(m===F)return!1}return u},set(l,o,f,u){var m=n.get(o),c=o in l;if(r&&o==="length")for(var d=f;d<m.v;d+=1){var v=n.get(d+"");v!==void 0?W(v,F):d in l&&(v=a(()=>ee(F)),n.set(d+"",v))}if(m===void 0)(!c||Ce(l,o)?.writable)&&(m=a(()=>ee(void 0)),W(m,me(f)),n.set(o,m));else{c=m.v!==F;var A=a(()=>me(f));W(m,A)}var h=Reflect.getOwnPropertyDescriptor(l,o);if(h?.set&&h.set.call(u,f),!c){if(r&&typeof o=="string"){var p=n.get("length"),x=Number(o);Number.isInteger(x)&&x>=p.v&&W(p,x+1)}Le(i)}return!0},ownKeys(l){_(i);var o=Reflect.ownKeys(l).filter(m=>{var c=n.get(m);return c===void 0||c.v!==F});for(var[f,u]of n)u.v!==F&&!(f in l)&&o.push(f);return o},setPrototypeOf(){mr()}})}var Gt,pn,_n,Pn;function qr(){if(Gt===void 0){Gt=window,pn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;_n=Ce(t,"firstChild").get,Pn=Ce(t,"nextSibling").get,Rt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Rt(n)&&(n.__t=void 0)}}function pe(e=""){return document.createTextNode(e)}function nt(e){return _n.call(e)}function He(e){return Pn.call(e)}function N(e,t){return nt(e)}function Ur(e,t=!1){{var n=nt(e);return n instanceof Comment&&n.data===""?He(n):n}}function ne(e,t=1,n=!1){let r=e;for(;t--;)r=He(r);return r}function Vr(e){e.textContent=""}function Mn(){return!1}function bn(e){var t=M,n=y;R(null),J(null);try{return e()}finally{R(t),J(n)}}function Hr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function de(e,t,n){var r=y;r!==null&&(r.f&$)!==0&&(e|=$);var i={ctx:D,deps:null,nodes:null,f:e|O|H,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{qe(i),i.f|=rn}catch(l){throw B(i),l}else t!==null&&ge(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Be)===0&&(s=s.first,(e&oe)!==0&&(e&Fe)!==0&&s!==null&&(s.f|=Fe)),s!==null&&(s.parent=r,r!==null&&Hr(s,r),M!==null&&(M.f&S)!==0&&(e&we)===0)){var a=M;(a.effects??=[]).push(s)}return i}function $e(){return M!==null&&!Q}function Yr(e){const t=de(xt,null,!1);return j(t,T),t.teardown=e,t}function Xr(e){return de(nn|ar,e,!1)}function Wr(e){Z.ensure();const t=de(we|Be,e,!0);return(n={})=>new Promise(r=>{n.outro?_e(t,()=>{B(t),r(void 0)}):(B(t),r(void 0))})}function Zr(e){return de(Nt|Be,e,!0)}function Qr(e,t=0){return de(xt|t,e,!0)}function he(e,t=[],n=[],r=[]){Or(r,t,n,i=>{de(xt,()=>e(...i.map(_)),!0)})}function Tt(e,t=0){var n=de(oe|t,e,!0);return n}function U(e){return de(ce|Be,e,!0)}function gn(e){var t=e.teardown;if(t!==null){const n=Oe,r=M;Lt(!0),R(null);try{t.call(null)}finally{Lt(n),R(r)}}}function yn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&bn(()=>{i.abort(Ne)});var r=n.next;(n.f&we)!==0?n.parent=null:B(n,t),n=r}}function Jr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ce)===0&&B(t),t=n}}function B(e,t=!0){var n=!1;(t||(e.f&sn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ei(e.nodes.start,e.nodes.end),n=!0),yn(e,t&&!n),it(e,0),j(e,ie);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();gn(e);var i=e.parent;i!==null&&i.first!==null&&An(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ei(e,t){for(;e!==null;){var n=e===t?null:He(e);e.remove(),e=n}}function An(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function _e(e,t,n=!0){var r=[];wn(e,r,!0);var i=()=>{n&&B(e),t&&t()},s=r.length;if(s>0){var a=()=>--s||i();for(var l of r)l.out(a)}else i()}function wn(e,t,n){if((e.f&$)===0){e.f^=$;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var s=i.next,a=(i.f&Fe)!==0||(i.f&ce)!==0&&(e.f&oe)!==0;wn(i,t,a?n:!1),i=s}}}function Dt(e){En(e,!0)}function En(e,t){if((e.f&$)!==0){e.f^=$,(e.f&T)===0&&(j(e,O),ge(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Fe)!==0||(n.f&ce)!==0;En(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)(a.is_global||t)&&a.in()}}function xn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:He(n);t.append(n),n=i}}let Pe=!1;function rt(e){Pe=e}let Oe=!1;function Lt(e){Oe=e}let M=null,Q=!1;function R(e){M=e}let y=null;function J(e){y=e}let se=null;function Nn(e){M!==null&&(se===null?se=[e]:se.push(e))}let I=null,L=0,q=null;function ti(e){q=e}let Sn=1,Ke=0,Me=Ke;function zt(e){Me=e}function Cn(){return++Sn}function Ye(e){var t=e.f;if((t&O)!==0)return!0;if(t&S&&(e.f&=~be),(t&ae)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(Ye(s)&&mn(s),s.wv>e.wv)return!0}(t&H)!==0&&V===null&&j(e,T)}return!1}function Fn(e,t,n=!0){var r=e.reactions;if(r!==null&&!se?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&S)!==0?Fn(s,t,!1):t===s&&(n?j(s,O):(s.f&T)!==0&&j(s,ae),ge(s))}}function Tn(e){var t=I,n=L,r=q,i=M,s=se,a=D,l=Q,o=Me,f=e.f;I=null,L=0,q=null,M=(f&(ce|we))===0?e:null,se=null,Te(e.ctx),Q=!1,Me=++Ke,e.ac!==null&&(bn(()=>{e.ac.abort(Ne)}),e.ac=null);try{e.f|=Mt;var u=e.fn,m=u(),c=e.deps;if(I!==null){var d;if(it(e,L),c!==null&&L>0)for(c.length=L+I.length,d=0;d<I.length;d++)c[L+d]=I[d];else e.deps=c=I;if($e()&&(e.f&H)!==0)for(d=L;d<c.length;d++)(c[d].reactions??=[]).push(e)}else c!==null&&L<c.length&&(it(e,L),c.length=L);if(Ve()&&q!==null&&!Q&&c!==null&&(e.f&(S|ae|O))===0)for(d=0;d<q.length;d++)Fn(q[d],e);return i!==null&&i!==e&&(Ke++,q!==null&&(r===null?r=q:r.push(...q))),(e.f&fe)!==0&&(e.f^=fe),m}catch(v){return fn(v)}finally{e.f^=Mt,I=t,L=n,q=r,M=i,se=s,Te(a),Q=l,Me=o}}function ni(e,t){let n=t.reactions;if(n!==null){var r=er.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&S)!==0&&(I===null||!I.includes(t))&&(j(t,ae),(t.f&H)!==0&&(t.f^=H,t.f&=~be),dn(t),it(t,0))}function it(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ni(e,n[r])}function qe(e){var t=e.f;if((t&ie)===0){j(e,T);var n=y,r=Pe;y=e,Pe=!0;try{(t&(oe|or))!==0?Jr(e):yn(e),gn(e);var i=Tn(e);e.teardown=typeof i=="function"?i:null,e.wv=Sn;var s;Pt&&Cr&&(e.f&O)!==0&&e.deps}finally{Pe=r,y=n}}}function _(e){var t=e.f,n=(t&S)!==0;if(M!==null&&!Q){var r=y!==null&&(y.f&ie)!==0;if(!r&&!se?.includes(e)){var i=M.deps;if((M.f&Mt)!==0)e.rv<Ke&&(e.rv=Ke,I===null&&i!==null&&i[L]===e?L++:I===null?I=[e]:I.includes(e)||I.push(e));else{(M.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[M]:s.includes(M)||s.push(M)}}}if(Oe){if(ue.has(e))return ue.get(e);if(n){var a=e,l=a.v;return((a.f&T)===0&&a.reactions!==null||jn(a))&&(l=Ft(a)),ue.set(a,l),l}}else n&&(!V?.has(e)||w?.is_fork&&!$e())&&(a=e,Ye(a)&&mn(a),Pe&&$e()&&(a.f&H)===0&&Dn(a));if(V?.has(e))return V.get(e);if((e.f&fe)!==0)throw e.v;return e.v}function Dn(e){if(e.deps!==null){e.f^=H;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&S)!==0&&(t.f&H)===0&&Dn(t)}}function jn(e){if(e.v===F)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ue.has(t)||(t.f&S)!==0&&jn(t))return!0;return!1}function In(e){var t=Q;try{return Q=!0,e()}finally{Q=t}}const ri=-7169;function j(e,t){e.f=e.f&ri|t}const ii=["touchstart","touchmove"];function si(e){return ii.includes(e)}const kn=new Set,yt=new Set;function Rn(e){for(var t=0;t<e.length;t++)kn.add(e[t]);for(var n of yt)n(e)}let $t=null;function We(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;$t=e;var a=0,l=$t===e&&e.__root;if(l){var o=i.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;o<=f&&(a=o)}if(s=i[a]||e.target,s!==t){tr(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=M,m=y;R(null),J(null);try{for(var c,d=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var A=s["__"+r];A!=null&&(!s.disabled||e.target===s)&&A.call(s,e)}catch(h){c?d.push(h):c=h}if(e.cancelBubble||v===t||v===null)break;s=v}if(c){for(let h of d)queueMicrotask(()=>{throw h});throw c}}finally{e.__root=t,delete e.currentTarget,R(u),J(m)}}}function oi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Kt(e,t){var n=y;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function K(e,t){var n=(t&Er)!==0,r=(t&xr)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=oi(s?e:"<!>"+e),n||(i=nt(i)));var a=r||pn?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=nt(a),o=a.lastChild;Kt(l,o)}else Kt(a,a);return a}}function z(e,t){e!==null&&e.before(t)}function ve(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ai(e,t){return li(e,t)}const xe=new Map;function li(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){qr();var l=new Set,o=m=>{for(var c=0;c<m.length;c++){var d=m[c];if(!l.has(d)){l.add(d);var v=si(d);t.addEventListener(d,We,{passive:v});var A=xe.get(d);A===void 0?(document.addEventListener(d,We,{passive:v}),xe.set(d,1)):xe.set(d,A+1)}}};o(ot(kn)),yt.add(o);var f=void 0,u=Wr(()=>{var m=n??t.appendChild(pe());return Rr(m,{pending:()=>{}},c=>{if(s){lt({});var d=D;d.c=s}i&&(r.$$events=i),f=e(c,r)||{},s&&ft()}),()=>{for(var c of l){t.removeEventListener(c,We);var d=xe.get(c);--d===0?(document.removeEventListener(c,We),xe.delete(c)):xe.set(c,d)}yt.delete(o),m!==n&&m.parentNode?.removeChild(m)}});return fi.set(f,u),f}let fi=new WeakMap;class ui{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=w;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Dt(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#e){if(this.#e.delete(s),s===t)break;const l=this.#r.get(a);l&&(B(l.effect),this.#r.delete(a))}for(const[s,a]of this.#t){if(s===n||this.#n.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var f=document.createDocumentFragment();xn(a,f),f.append(pe()),this.#r.set(s,{effect:a,fragment:f})}else B(a);this.#n.delete(s),this.#t.delete(s)};this.#l||!r?(this.#n.add(s),_e(a,l,!1)):l()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||(B(i.effect),this.#r.delete(r))};ensure(t,n){var r=w,i=Mn();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),a=pe();s.append(a),this.#r.set(t,{effect:U(()=>n(a)),fragment:s})}else this.#t.set(t,U(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function Je(e,t,n=!1){var r=new ui(e),i=n?Fe:0;function s(a,l){r.ensure(a,l)}Tt(()=>{var a=!1;t((l,o=!0)=>{a=!0,s(o,l)}),a||s(!1,null)},i)}function Ie(e,t){return t}function ci(e,t,n){for(var r=[],i=t.length,s,a=t.length,l=0;l<i;l++){let m=t[l];_e(m,()=>{if(s){if(s.pending.delete(m),s.done.add(m),s.pending.size===0){var c=e.outrogroups;At(ot(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var o=r.length===0&&n!==null;if(o){var f=n,u=f.parentNode;Vr(u),u.append(f),e.items.clear()}At(t,!o)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function At(e,t=!0){for(var n=0;n<e.length;n++)B(e[n],t)}var qt;function ke(e,t,n,r,i,s=null){var a=e,l=new Map,o=(t&on)!==0;if(o){var f=e;a=f.appendChild(pe())}var u=null,m=Ct(()=>{var p=n();return en(p)?p:p==null?[]:ot(p)}),c,d=!0;function v(){h.fallback=u,di(h,c,a,t,r),u!==null&&(c.length===0?(u.f&re)===0?Dt(u):(u.f^=re,Ge(u,null,a)):_e(u,()=>{u=null}))}var A=Tt(()=>{c=_(m);for(var p=c.length,x=new Set,b=w,P=Mn(),g=0;g<p;g+=1){var G=c[g],C=r(G,g),E=d?null:l.get(C);E?(E.v&&je(E.v,G),E.i&&je(E.i,g),P&&b.skipped_effects.delete(E.e)):(E=mi(l,d?a:qt??=pe(),G,C,g,i,t,n),d||(E.e.f|=re),l.set(C,E)),x.add(C)}if(p===0&&s&&!u&&(d?u=U(()=>s(a)):(u=U(()=>s(qt??=pe())),u.f|=re)),!d)if(P){for(const[Ee,Y]of l)x.has(Ee)||b.skipped_effects.add(Y.e);b.oncommit(v),b.ondiscard(()=>{})}else v();_(m)}),h={effect:A,items:l,outrogroups:null,fallback:u};d=!1}function di(e,t,n,r,i){var s=(r&Pr)!==0,a=t.length,l=e.items,o=e.effect.first,f,u=null,m,c=[],d=[],v,A,h,p;if(s)for(p=0;p<a;p+=1)v=t[p],A=i(v,p),h=l.get(A).e,(h.f&re)===0&&(h.nodes?.a?.measure(),(m??=new Set).add(h));for(p=0;p<a;p+=1){if(v=t[p],A=i(v,p),h=l.get(A).e,e.outrogroups!==null)for(const Y of e.outrogroups)Y.pending.delete(h),Y.done.delete(h);if((h.f&re)!==0)if(h.f^=re,h===o)Ge(h,null,n);else{var x=u?u.next:o;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),le(e,u,h),le(e,h,x),Ge(h,x,n),u=h,c=[],d=[],o=u.next;continue}if((h.f&$)!==0&&(Dt(h),s&&(h.nodes?.a?.unfix(),(m??=new Set).delete(h))),h!==o){if(f!==void 0&&f.has(h)){if(c.length<d.length){var b=d[0],P;u=b.prev;var g=c[0],G=c[c.length-1];for(P=0;P<c.length;P+=1)Ge(c[P],b,n);for(P=0;P<d.length;P+=1)f.delete(d[P]);le(e,g.prev,G.next),le(e,u,g),le(e,G,b),o=b,u=G,p-=1,c=[],d=[]}else f.delete(h),Ge(h,o,n),le(e,h.prev,h.next),le(e,h,u===null?e.effect.first:u.next),le(e,u,h),u=h;continue}for(c=[],d=[];o!==null&&o!==h;)(f??=new Set).add(o),d.push(o),o=o.next;if(o===null)continue}(h.f&re)===0&&c.push(h),u=h,o=h.next}if(e.outrogroups!==null){for(const Y of e.outrogroups)Y.pending.size===0&&(At(ot(Y.done)),e.outrogroups?.delete(Y));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var C=[];if(f!==void 0)for(h of f)(h.f&$)===0&&C.push(h);for(;o!==null;)(o.f&$)===0&&o!==e.fallback&&C.push(o),o=o.next;var E=C.length;if(E>0){var Ee=(r&on)!==0&&a===0?n:null;if(s){for(p=0;p<E;p+=1)C[p].nodes?.a?.measure();for(p=0;p<E;p+=1)C[p].nodes?.a?.fix()}ci(e,C,Ee)}}s&&ut(()=>{if(m!==void 0)for(h of m)h.nodes?.a?.apply()})}function mi(e,t,n,r,i,s,a,l){var o=(a&pr)!==0?(a&Mr)===0?$r(n,!1,!1):ye(n):null,f=(a&_r)!==0?ye(i):null;return{v:o,i:f,e:U(()=>(s(t,o??n,f??i,l),()=>{e.delete(r)}))}}function Ge(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&re)===0?t.nodes.start:n;r!==null;){var a=He(r);if(s.before(r),r===i)return;r=a}}function le(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function hi(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function vi(e,t){return e==null?null:String(e)}function st(e,t,n,r,i,s){var a=e.__className;if(a!==n||a===void 0){var l=hi(n);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}return s}function pi(e,t,n,r){var i=e.__style;if(i!==t){var s=vi(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}let Ze=!1;function _i(e){var t=Ze;try{return Ze=!1,[e(),Ze]}finally{Ze=t}}function Ut(e,t,n,r){var i=!Ue||(n&gr)!==0,s=(n&Ar)!==0,a=(n&wr)!==0,l=r,o=!0,f=()=>(o&&(o=!1,l=a?In(r):r),l),u;if(s){var m=Qe in e||lr in e;u=Ce(e,t)?.set??(m&&t in e?b=>e[t]=b:void 0)}var c,d=!1;s?[c,d]=_i(()=>e[t]):c=e[t],c===void 0&&r!==void 0&&(c=f(),u&&(i&&cr(),u(c)));var v;if(i?v=()=>{var b=e[t];return b===void 0?f():(o=!0,b)}:v=()=>{var b=e[t];return b!==void 0&&(l=void 0),b===void 0?l:b},i&&(n&yr)===0)return v;if(u){var A=e.$$legacy;return(function(b,P){return arguments.length>0?((!i||!P||A||d)&&u(P?v():b),b):v()})}var h=!1,p=((n&br)!==0?ct:Ct)(()=>(h=!1,v()));s&&_(p);var x=y;return(function(b,P){if(arguments.length>0){const g=P?_(p):i&&s?me(b):b;return W(p,g),h=!0,l!==void 0&&(l=g),b}return Oe&&h||(x.f&ie)!==0?p.v:_(p)})}const Pi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Pi);Fr();function Bn(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function Mi(e){return e.filter(t=>t===0||t)}function On(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Gn(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var Ln=[0,2,4,-1,1,3,5],zn=Ln.map(e=>Math.floor(e*7/12));function $n(e){const{step:t,alt:n,oct:r,dir:i=1}=e,s=Ln[t]+7*n;if(r===void 0)return[i*s];const a=r-zn[t]-4*n;return[i*s,i*a]}var bi=[3,0,4,1,5,2,6];function Kn(e){const[t,n,r]=e,i=bi[gi(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const a=n+4*s+zn[i];return{step:i,alt:s,oct:a,dir:r}}function gi(e){const t=(e+1)%7;return t<0?7+t:t}var Vt=(e,t)=>Array(Math.abs(t)+1).join(e),wt=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),yi="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Ai="(AA|A|P|M|m|d|dd)([-+]?\\d+)",wi=new RegExp("^"+yi+"|"+Ai+"$");function Ei(e){const t=wi.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Ht={};function Ae(e){return typeof e=="string"?Ht[e]||(Ht[e]=xi(e)):Gn(e)?Ae(Si(e)):On(e)?Ae(e.name):wt}var Yt=[0,2,4,5,7,9,11],qn="PMMPPMM";function xi(e){const t=Ei(e);if(t[0]==="")return wt;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,s=qn[i];if(s==="M"&&r==="P")return wt;const a=s==="M"?"majorable":"perfectable",l=""+n+r,o=n<0?-1:1,f=n===8||n===-8?n:o*(i+1),u=Ni(a,r),m=Math.floor((Math.abs(n)-1)/7),c=o*(Yt[i]+u+12*m),d=(o*(Yt[i]+u)%12+12)%12,v=$n({step:i,alt:u,oct:m,dir:o});return{empty:!1,name:l,num:n,q:r,step:i,alt:u,dir:o,type:a,simple:f,semitones:c,chroma:d,coord:v,oct:m}}function Un(e,t){const[n,r=0]=e,i=n*7+r*12<0,s=t||i?[-n,-r,-1]:[n,r,1];return Ae(Kn(s))}function Ni(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function Si(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const s=t+1+7*r,a=s===0?t+1:s,l=i<0?"-":"",o=qn[t]==="M"?"majorable":"perfectable";return l+a+Ci(o,n)}function Ci(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Vt("A",t):Vt("d",e==="perfectable"?t:t+1)}var Xt=(e,t)=>Array(Math.abs(t)+1).join(e),Vn=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Wt=new Map,Fi=e=>"CDEFGAB".charAt(e),Ti=e=>e<0?Xt("b",-e):Xt("#",e),Di=e=>e[0]==="b"?-e.length:e.length;function k(e){const t=JSON.stringify(e),n=Wt.get(t);if(n)return n;const r=typeof e=="string"?Ri(e):Gn(e)?k(Bi(e)):On(e)?k(e.name):Vn;return Wt.set(t,r),r}var ji=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function jt(e){const t=ji.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Ii(e){return k(Kn(e))}var ki=(e,t)=>(e%t+t)%t,vt=[0,2,4,5,7,9,11];function Ri(e){const t=jt(e);if(t[0]===""||t[3]!=="")return Vn;const n=t[0],r=t[1],i=t[2],s=(n.charCodeAt(0)+3)%7,a=Di(r),l=i.length?+i:void 0,o=$n({step:s,alt:a,oct:l}),f=n+r+i,u=n+r,m=(vt[s]+a+120)%12,c=l===void 0?ki(vt[s]+a,12)-1188:vt[s]+a+12*(l+1),d=c>=0&&c<=127?c:null,v=l===void 0?null:Math.pow(2,(c-69)/12)*440;return{empty:!1,acc:r,alt:a,chroma:m,coord:o,freq:v,height:c,letter:n,midi:d,name:f,oct:l,pc:u,step:s}}function Bi(e){const{step:t,alt:n,oct:r}=e,i=Fi(t);if(!i)return"";const s=i+Ti(n);return r||r===0?s+r:s}function Oi(e,t){const n=k(e),r=Array.isArray(t)?t:Ae(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,s=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return Ii(s).name}function Zt(e,t){const n=k(e),r=k(t);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,a=s[0]-i[0],l=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(a*7/12),o=r.height===n.height&&r.midi!==null&&n.oct===r.oct&&n.step>r.step;return Un([a,l],o).name}var Re={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Hn=e=>Number(e).toString(2).padStart(12,"0"),Qt=e=>parseInt(e,2),Gi=/^[01]{12}$/;function Yn(e){return Gi.test(e)}var Li=e=>typeof e=="number"&&e>=0&&e<=4095,zi=e=>e&&Yn(e.chroma),Jt={[Re.chroma]:Re};function It(e){const t=Yn(e)?e:Li(e)?Hn(e):Array.isArray(e)?Hi(e):zi(e)?e.chroma:Re.chroma;return Jt[t]=Jt[t]||Vi(t)}var $i=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Ki(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push($i[n]);return t}function qi(e,t=!0){const r=It(e).chroma.split("");return Mi(r.map((i,s)=>{const a=Bn(s,r);return t&&a[0]==="0"?null:a.join("")}))}function Ui(e){const t=e.split("");return t.map((n,r)=>Bn(r,t).join(""))}function Vi(e){const t=Qt(e),n=Ui(e).map(Qt).filter(s=>s>=2048).sort()[0],r=Hn(n),i=Ki(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:i}}function Hi(e){if(e.length===0)return Re.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=k(e[r]),t.empty&&(t=Ae(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var Yi=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Xi=Yi,Wi={...Re,name:"",quality:"Unknown",intervals:[],aliases:[]},kt=[],ze={};function Zi(e){return ze[e]||Wi}function Qi(){return kt.slice()}function Ji(e,t,n){const r=ts(e),i={...It(e),name:n||"",quality:r,intervals:e,aliases:t};kt.push(i),i.name&&(ze[i.name]=i),ze[i.setNum]=i,ze[i.chroma]=i,i.aliases.forEach(s=>es(i,s))}function es(e,t){ze[t]=e}function ts(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}Xi.forEach(([e,t,n])=>Ji(e.split(" "),n.split(" "),t));kt.sort((e,t)=>e.setNum-t.setNum);var ns=e=>{const t=e.reduce((n,r)=>{const i=k(r).chroma;return i!==void 0&&(n[i]=n[i]||k(r).name),n},{});return n=>t[n]};function rs(e,t={}){const n=e.map(i=>k(i).pc).filter(i=>i);return k.length===0?[]:us(n,1,t).filter(i=>i.weight).sort((i,s)=>s.weight-i.weight).map(i=>i.name)}var dt={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},mt=e=>t=>!!(t&e),is=mt(dt.anyThirds),ss=mt(dt.perfectFifth),os=mt(dt.anySeventh),as=mt(dt.nonPerfectFifths);function ls(e){const t=parseInt(e.chroma,2);return is(t)&&ss(t)&&os(t)}function fs(e){const t=parseInt(e,2);return as(t)?e:(t|16).toString(2)}function us(e,t,n){const r=e[0],i=k(r).chroma,s=ns(e),a=qi(e,!1),l=[];return a.forEach((o,f)=>{const u=n.assumePerfectFifth&&fs(o);Qi().filter(c=>n.assumePerfectFifth&&ls(c)?c.chroma===u:c.chroma===o).forEach(c=>{const d=c.aliases[0],v=s(f);f!==i?l.push({weight:.5*t,name:`${v}${d}/${r}`}):l.push({weight:1*t,name:`${v}${d}`})})}),l}var cs=ds((e,t)=>[e[0]-t[0],e[1]-t[1]]);function ds(e){return(t,n)=>{const r=Ae(t).coord,i=Ae(n).coord;if(r&&i){const s=e(r,i);return Un(s).name}}}var ms=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],hs=ms;({...Re});var et={};function vs(e,t,n=[]){const r={...It(e),name:t,intervals:e,aliases:n};return et[r.name]=r,et[r.setNum]=r,et[r.chroma]=r,r.aliases.forEach(i=>ps(r,i)),r}function ps(e,t){et[t]=e}hs.forEach(([e,t,...n])=>vs(e.split(" "),t,n));var Xn={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function _s(e){const[t,n,r,i]=jt(e);return t===""?pt("",e):t==="A"&&i==="ug"?pt("","aug"):pt(t+n,r+i)}function pt(e,t){const n=t.split("/");if(n.length===1)return[e,n[0],""];const[r,i,s,a]=jt(n[1]);return r!==""&&s===""&&a===""?[e,n[0],r+i]:[e,t,""]}function Ps(e){if(Array.isArray(e))return _t(e[1]||"",e[0],e[2]);if(e==="")return Xn;{const[t,n,r]=_s(e),i=_t(n,t,r);return i.empty?_t(e):i}}function _t(e,t,n){const r=Zi(e),i=k(t||""),s=k(n||"");if(r.empty||t&&i.empty||n&&s.empty)return Xn;const a=Zt(i.pc,s.pc),l=r.intervals.indexOf(a),o=l>=0,f=o?s:k(""),u=l===-1?NaN:l+1,m=s.pc&&s.pc!==i.pc,c=Array.from(r.intervals);if(o)for(let h=1;h<u;h++){const p=c[0][0],x=c[0][1],b=parseInt(p,10)+7;c.push(`${b}${x}`),c.shift()}else if(m){const h=cs(Zt(i.pc,s.pc),"8P");h&&c.unshift(h)}const d=i.empty?[]:c.map(h=>Oi(i.pc,h));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const v=`${i.empty?"":i.pc}${e}${o&&u>1?"/"+f.pc:m?"/"+s.pc:""}`,A=`${t?i.pc+" ":""}${r.name}${o&&u>1?" over "+f.pc:m?" over "+s.pc:""}`;return{...r,name:A,symbol:v,tonic:i.pc,type:r.name,root:f.pc,bass:m?s.pc:"",intervals:c,rootDegree:u,notes:d}}var Ms=K('<button><span class="absolute bottom-4 left-1/2 -translate-x-1/2 text-gray-500 font-bold"> </span></button>'),bs=K("<button></button>"),gs=K('<div class="relative flex select-none bg-gray-100 p-2 rounded-xl shadow border border-gray-200 w-fit mx-auto"><!> <!></div>');function ys(e,t){lt(t,!0);const n=[{name:"C",type:"white"},{name:"C#",type:"black",left:"2.2rem"},{name:"D",type:"white"},{name:"D#",type:"black",left:"5.6rem"},{name:"E",type:"white"},{name:"F",type:"white"},{name:"F#",type:"black",left:"11.1rem"},{name:"G",type:"white"},{name:"G#",type:"black",left:"14.3rem"},{name:"A",type:"white"},{name:"A#",type:"black",left:"17.7rem"},{name:"B",type:"white"}];let r=Ut(t,"activeKeys",19,()=>new Set),i=Ut(t,"onToggle",3,()=>{});var s=gs(),a=N(s);ke(a,17,()=>n.filter(o=>o.type==="white"),Ie,(o,f)=>{var u=Ms();u.__click=()=>i()(_(f).name);var m=N(u),c=N(m);he(d=>{st(u,1,`
        relative w-12 h-36 border border-gray-300 bg-white rounded-b-lg shadow-sm
        ${d??""}
      `),ve(c,_(f).name)},[()=>r().has(_(f).name)?"!bg-violet-200 !border-violet-300":""]),z(o,u)});var l=ne(a,2);ke(l,17,()=>n.filter(o=>o.type==="black"),Ie,(o,f)=>{var u=bs();u.__click=()=>i()(_(f).name),he(m=>{st(u,1,`absolute top-2 w-9 h-22 border border-gray-800 bg-gray-900 rounded-b-lg z-10 shadow-md
             ${m??""}`),pi(u,`left: ${_(f).left??""}`)},[()=>r().has(_(f).name)?"!bg-violet-200 !border-violet-300":""]),z(o,u)}),z(e,s),ft()}Rn(["click"]);const As=[{row_index:0,category:"Major Chords (大三和弦)",chords:[{name:"Gb",notes:["Gb","Bb","Db","Gb"]},{name:"Db",notes:["F","Ab","Db","F"]},{name:"Ab",notes:["Eb","Ab","C","Eb"]},{name:"Eb",notes:["G","Bb","Eb","G"]},{name:"Bb",notes:["F","Bb","D","F"]},{name:"F",notes:["F","A","C","F"]},{name:"C",notes:["E","G","C","E"]},{name:"G",notes:["G","B","D","G"]},{name:"D",notes:["F#","A","D","F#"]},{name:"A",notes:["E","A","C#","E"]},{name:"E",notes:["E","G#","B","E"]},{name:"B",notes:["F#","B","D#","F#"]}]},{row_index:1,category:"Dominant 7th Chords (屬七和弦)",chords:[{name:"Db7",notes:["F","Ab","B","Db"]},{name:"Ab7",notes:["Gb","Ab","C","Eb"]},{name:"Eb7",notes:["G","Bb","Db","Eb"]},{name:"Bb7",notes:["Ab","Bb","D","F"]},{name:"F7",notes:["F","A","C","Eb"]},{name:"C7",notes:["E","G","Bb","C"]},{name:"G7",notes:["G","B","D","F"]},{name:"D7",notes:["F#","A","C","D"]},{name:"A7",notes:["G","A","C#","E"]},{name:"E7",notes:["E","G#","B","D"]},{name:"B7",notes:["A","B","D#","F#"]},{name:"F#7",notes:["F#","A#","C#","E"]}]},{row_index:2,category:"Minor Chords (小三和弦)",chords:[{name:"Gbm",notes:["Gb","A","Db","Gb"]},{name:"Dbm",notes:["E","Ab","Db","E"]},{name:"Abm",notes:["Eb","Ab","B","Eb"]},{name:"Ebm",notes:["Eb","Gb","Bb","Eb"]},{name:"Bbm",notes:["F","Bb","Db","F"]},{name:"Fm",notes:["F","Ab","C","F"]},{name:"Cm",notes:["Eb","G","C","Eb"]},{name:"Gm",notes:["G","Bb","D","G"]},{name:"Dm",notes:["F","A","D","F"]},{name:"Am",notes:["E","A","C","E"]},{name:"Em",notes:["E","G","B","E"]},{name:"Bm",notes:["F#","B","D","F#"]}]},{row_index:3,category:"Augmented & Diminished 7th Chords (增和弦與減七和弦)",chords:[{name:"Dbaug",notes:["F","A","Db","F"]},{name:"Abdim7",notes:["F","Ab","B","D"]},{name:"Ebaug",notes:["G","B","Eb","G"]},{name:"Bbdim7",notes:["G","Bb","Db","E"]},{name:"F#aug",notes:["F#","A#","D","F#"]},{name:"Cdim7",notes:["Eb","Gb","A","C"]},{name:"Gaug",notes:["G","B","D#","G"]},{name:"Ddim7",notes:["F","Ab","B","D"]},{name:"Aaug",notes:["A","C#","F","A"]},{name:"Edim7",notes:["E","G","Bb","Db"]},{name:"Eaug",notes:["E","G#","C","E"]},{name:"F#dim7",notes:["F#","A","C","D#"]}]}],Et={rows:As};var ws=K("<div> </div>"),Es=K("<div> </div>"),xs=K('<div class="flex flex-col border-l border-gray-200"><div class="py-1.5 text-center text-sm font-bold text-violet-600 bg-gray-50 border-b border-gray-200 music"> </div> <div class="flex"></div></div>'),Ns=K('<div class="inline-flex bg-white rounded-lg shadow overflow-hidden border border-gray-200 select-none"><div class="flex flex-col"><div class="py-1.5 text-center text-sm font-bold text-violet-600 bg-gray-50 border-b border-gray-200 music"> </div> <div class="flex"></div></div> <!></div>');function Ss(e,t){lt(t,!0);var n=Ns(),r=N(n),i=N(r),s=N(i),a=ne(i,2);ke(a,21,()=>t.match.chord.notes,Ie,(f,u,m)=>{var c=ws(),d=N(c);he(()=>{st(c,1,`w-8 h-10 flex items-center justify-center text-xs border-r border-gray-200 last:border-r-0
          ${m>=t.match.positionInChord&&m<t.match.positionInChord+t.activeKeys.size?"bg-violet-200 font-bold shadow-inner":"text-gray-500"}`),ve(d,_(u))}),z(f,c)});var l=ne(r,2);{var o=f=>{var u=xs(),m=N(u),c=N(m),d=ne(m,2);ke(d,21,()=>Et.rows[t.match.row].chords[t.match.chordIndex+1].notes,Ie,(v,A,h)=>{var p=Es(),x=N(p);he(()=>{st(p,1,`w-8 h-10 flex items-center justify-center text-xs border-r border-gray-200 last:border-r-0
            ${h<t.match.positionInChord+t.activeKeys.size-4?"bg-violet-200 font-bold shadow-inner":"text-gray-500"}`),ve(x,_(A))}),z(v,p)}),he(()=>ve(c,Et.rows[t.match.row].chords[t.match.chordIndex+1].name)),z(f,u)};Je(l,f=>{t.match.positionInChord>0&&t.match.positionInChord+t.activeKeys.size>4&&f(o)})}he(()=>ve(s,t.match.chord.name)),z(e,n),ft()}function Wn(e){if(e.length<=1)return[e];const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=[...e.slice(0,n),...e.slice(n+1)],s=Wn(i);for(const a of s)t.push([r,...a])}return t}const Cs={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"};function Fs(e,t){const n=Array.from(e),r=Wn(n),i=[];for(const s of t.rows){const a=s.chords.flatMap(l=>l.notes.map(o=>Cs[o]||o));for(const l of r){const o=l.join(",");for(let f=0;f<=a.length-l.length;f++)if(a.slice(f,f+l.length).join(",")===o){const c=Math.floor(f/4),d=f%4;i.push({row:s.row_index,chordIndex:c,chord:s.chords[c],positionInChord:d})}}}return console.log(i),i}var Ts=K('<button class="px-1 py-1 text-sm text-violet-500 font-medium rounded">Reset</button>'),Ds=K('<div class="flex items-center gap-2 music"><p class="text-violet-600 font-bold text-xl"> </p> <p class="text-gray-600"> </p></div>'),js=K('<div class="flex flex-col gap-1"></div>'),Is=K('<div class="text-center"><div class="flex flex-col gap-3 items-center"></div></div>'),ks=K('<h1 class="text-2xl font-bold text-center">Chord Finder</h1> <div class="flex flex-col items-end"><!> <!></div> <div class="text-center"><!></div> <!>',1);function Rs(e,t){lt(t,!0);let n=ee(me(new Set(["C","E","G","B"])));const r=2,i=4;function s(P){const g=new Set(_(n));if(g.has(P))g.delete(P);else{if(g.size>=i){const G=g.values().next().value;g.delete(G)}g.add(P)}W(n,g,!0)}function a(){W(n,new Set,!0)}let l=ht(()=>rs(Array.from(_(n)))),o=ht(()=>_(l).map(P=>Ps(P))),f=ht(()=>_(n).size>=r?Fs(_(n),Et):[]);var u=ks(),m=ne(Ur(u),2),c=N(m);ys(c,{get activeKeys(){return _(n)},onToggle:s});var d=ne(c,2);{var v=P=>{var g=Ts();g.__click=a,z(P,g)};Je(d,P=>{_(n).size>0&&P(v)})}var A=ne(m,2),h=N(A);{var p=P=>{var g=js();ke(g,21,()=>_(o),Ie,(G,C)=>{var E=Ds(),Ee=N(E),Y=N(Ee),Zn=ne(Ee,2),Qn=N(Zn);he(Jn=>{ve(Y,_(C).symbol),ve(Qn,Jn)},[()=>_(C).notes.join(", ")]),z(G,E)}),z(P,g)};Je(h,P=>{_(o).length>0&&P(p)})}var x=ne(A,2);{var b=P=>{var g=Is(),G=N(g);ke(G,21,()=>_(f),Ie,(C,E)=>{Ss(C,{get activeKeys(){return _(n)},get match(){return _(E)}})}),z(P,g)};Je(x,P=>{_(f).length>0&&P(b)})}z(e,u),ft()}Rn(["click"]);var Bs=K('<main class="flex flex-col items-center gap-y-4 min-h-screen bg-white py-4"><!></main>');function Os(e){var t=Bs(),n=N(t);Rs(n,{}),z(e,t)}ai(Os,{target:document.getElementById("app")});
